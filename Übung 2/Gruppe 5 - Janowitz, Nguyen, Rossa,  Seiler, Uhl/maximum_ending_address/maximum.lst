GAS LISTING maximum.s 			page 1


   1              	# Finding a Maximum, Bartlett PGU Chapter 3
   2              	
   3              	    # ----- data section -----
   4              	    .section .data
   5              	
   6              	data_items:
   7 0000 03000000 	    .long   3, 67, 34, 12, 17, 0
   7      43000000 
   7      22000000 
   7      0C000000 
   7      11000000 
   8              	data_items_end:
   9              	
  10              	    # ----- text section -----
  11              	    .section .text
  12              	    .globl _start
  13              	
  14              	_start:
  15 0000 BF000000 	    movl    $0, %edi
  15      00
  16 0005 8B04BD00 	    movl    data_items(, %edi, 4), %eax
  16      000000
  17 000c 89C3     	    movl    %eax, %ebx
  18              	
  19              	start_loop:
  20 000e 8D0CBD00 	    lea     data_items(, %edi, 4), %ecx
  20      000000
  21 0015 390D1800 	    cmpl    %ecx , data_items_end
  21      0000
  22 001b 7410     	    je      loop_exit
  23 001d 47       	    incl    %edi
  24 001e 8B04BD00 	    movl    data_items(, %edi, 4), %eax
  24      000000
  25 0025 39D8     	    cmpl    %ebx, %eax
  26 0027 7EE5     	    jle     start_loop
  27              	
  28 0029 89C3     	    movl    %eax, %ebx
  29 002b EBE1     	    jmp     start_loop
  30              	
  31              	loop_exit:
  32 002d B8010000 	    movl    $1, %eax
  32      00
  33 0032 CD80     	    int     $0x80
  34              	
  35              	
  36              	# vim: expandtab ts=4 sw=4
